
/**
 * –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è Lovable Edit
 * 
 * –≠—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ Lovable
 */

export const EDITABLE_TEXT_GUIDELINES = {
  // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
  GOOD_EXAMPLES: {
    simpleHeading: `<h1 className="text-4xl font-bold text-white">–ó–∞–≥–æ–ª–æ–≤–æ–∫</h1>`,
    simpleParagraph: `<p className="text-lg text-gray-300">–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç</p>`,
    simpleSpan: `<span className="text-accent-red font-semibold">–ê–∫—Ü–µ–Ω—Ç</span>`,
    editableButton: `<button className="bg-accent-red text-white px-4 py-2 rounded">–ö–Ω–æ–ø–∫–∞</button>`
  },

  // ‚ùå –ü–õ–û–•–û - —Å–ª–æ–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
  BAD_EXAMPLES: {
    gradientText: `<span className="bg-gradient-to-r from-white via-gray-200 to-gray-300 bg-clip-text text-transparent">–ì—Ä–∞–¥–∏–µ–Ω—Ç</span>`,
    deeplyNested: `<div><div><div><span>–ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å</span></div></div></div>`,
    complexStructure: `<h2><span><span className="text-white">–°–ª–æ–∂–Ω–∞—è</span><br /><span className="gradient">—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</span></span></h2>`
  },

  // üìã –û–°–ù–û–í–ù–´–ï –ü–†–ê–í–ò–õ–ê
  RULES: [
    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã (text-white, text-gray-300) –≤–º–µ—Å—Ç–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤",
    "–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å - –º–∞–∫—Å–∏–º—É–º 2-3 —É—Ä–æ–≤–Ω—è –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤", 
    "–ò–∑–±–µ–≥–∞–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞",
    "–ù–µ –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —Ç–µ–∫—Å—Ç –≤ –ª–∏—à–Ω–∏–µ div'—ã –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏",
    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏ (h1, h2, p, span) –Ω–∞–ø—Ä—è–º—É—é",
    "–ò–∑–±–µ–≥–∞–π—Ç–µ bg-clip-text –∏ text-transparent –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞",
    "–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å—Ç–∏–ª–∏ –≤ className, –∞ –Ω–µ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤"
  ],

  // üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–£
  REFACTORING_TIPS: [
    "–ó–∞–º–µ–Ω—è–π—Ç–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ —Ü–≤–µ—Ç–∞ —Å hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏",
    "–í—ã–Ω–æ—Å–∏—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã",
    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ —Ü–≤–µ—Ç–æ–≤",
    "–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å—Ç–∏–ª–µ–π",
    "–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–∞–∂–¥—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Ä–µ–∂–∏–º–µ Lovable Edit"
  ]
};

/**
 * –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å Lovable Edit
 */
export const isEditableTextElement = (element: string): boolean => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
  const problematicPatterns = [
    /bg-gradient-to-[^\\s]+.*bg-clip-text/,  // –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç
    /text-transparent/,                       // –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ç–µ–∫—Å—Ç
    /<[^>]+><[^>]+><[^>]+>/,                 // –ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å (3+ —É—Ä–æ–≤–Ω—è)
    /absolute.*inset/,                       // –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  ];

  return !problematicPatterns.some(pattern => pattern.test(element));
};

/**
 * –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
 */
export const simplifyTextElement = (complexElement: string): string => {
  return complexElement
    .replace(/bg-gradient-to-[^\\s]+/g, '')           // –£–±–∏—Ä–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
    .replace(/bg-clip-text/g, '')                     // –£–±–∏—Ä–∞–µ–º clip-text
    .replace(/text-transparent/g, 'text-white')       // –ó–∞–º–µ–Ω—è–µ–º –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç
    .replace(/<span[^>]*><span[^>]*>/g, '<span>')     // –£–ø—Ä–æ—â–∞–µ–º –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
    .replace(/<\/span><\/span>/g, '</span>');
};

export default EDITABLE_TEXT_GUIDELINES;
